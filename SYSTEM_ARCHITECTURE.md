# System Architecture & Connection Diagrams

## 1. Complete System Architecture

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                          PRODUCTION ENVIRONMENT                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           THE INTERNET                                   â”‚
â”‚                        (HTTPS Connections)                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚                               â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   USER BROWSER       â”‚       â”‚  GITHUB REPOSITORY  â”‚
            â”‚                      â”‚       â”‚                     â”‚
            â”‚ - React App          â”‚â—„â”€â”€â”€â”€â”€â”€â”¤ - techfront-main    â”‚
            â”‚ - Stores tokens      â”‚ Auto  â”‚ - techback-main     â”‚
            â”‚ - Makes API calls    â”‚ Deployâ”‚ - CI/CD Pipeline    â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                           â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  VERCEL SERVERS  â”‚      â”‚  RAILWAY SERVERS    â”‚
    â”‚  (Frontend)      â”‚      â”‚  (Backend API)      â”‚
    â”‚                  â”‚      â”‚                     â”‚
    â”‚ ğŸŒ React App     â”‚      â”‚ ğŸš€ Node.js Server   â”‚
    â”‚ ğŸ“¦ Next.js Build â”‚      â”‚ ğŸ”Œ Express Routes   â”‚
    â”‚ ğŸ” CDN           â”‚      â”‚ ğŸ“¡ Socket.io        â”‚
    â”‚ ğŸŒ Global        â”‚      â”‚ ğŸ” JWT Auth         â”‚
    â”‚                  â”‚      â”‚ ğŸ§­ CORS Enabled     â”‚
    â”‚ https://         â”‚      â”‚ https://            â”‚
    â”‚ techfront-topaz. â”‚      â”‚ techback-production.â”‚
    â”‚ vercel.app       â”‚      â”‚ up.railway.app      â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                           â”‚
         â”‚  API Calls                â”‚
         â”‚  & WebSocket              â”‚
         â”‚  Connections              â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â”‚ HTTP/HTTPS
                      â”‚ WS/WSS
                      â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  NODE.JS BACKEND â”‚
              â”‚                  â”‚
              â”‚ Routes:          â”‚
              â”‚ /api/auth        â”‚
              â”‚ /api/users       â”‚
              â”‚ /api/blog        â”‚
              â”‚ /api/messages    â”‚
              â”‚ /api/chat        â”‚
              â”‚ /api/notifications
              â”‚                  â”‚
              â”‚ Mongoose ORM     â”‚
              â”‚ MongoDB Driver   â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â”‚ MongoDB
                      â”‚ Protocol
                      â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   MONGODB ATLAS CLOUD     â”‚
         â”‚   (Database Server)       â”‚
         â”‚                           â”‚
         â”‚ Region: US               â”‚
         â”‚ Cluster: prod-5dd4       â”‚
         â”‚ Database: techg          â”‚
         â”‚                           â”‚
         â”‚ Collections:             â”‚
         â”‚ â”œâ”€ users (encrypted pw)  â”‚
         â”‚ â”œâ”€ blogs (indexed)       â”‚
         â”‚ â”œâ”€ messages (TTL: 30d)   â”‚
         â”‚ â”œâ”€ notifications         â”‚
         â”‚ â””â”€ chatreports           â”‚
         â”‚                           â”‚
         â”‚ âœ… Backups enabled       â”‚
         â”‚ âœ… 24/7 monitoring       â”‚
         â”‚ âœ… Auto-scaling          â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. Request/Response Flow

```
                  USER INTERACTION
                        â”‚
                        â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Browser JavaScript Event    â”‚
        â”‚  (e.g., Click Login Button)  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  React Component Handler     â”‚
        â”‚  (LoginPage.js)              â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  API Call (Axios)            â”‚
        â”‚  api.post('/auth/login', {   â”‚
        â”‚    email: 'user@test.com',   â”‚
        â”‚    password: 'pass123'       â”‚
        â”‚  })                          â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
         VERCEL        â”‚           RAILWAY
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                           â”‚
         â”‚   Request Headers:        â”‚
         â”‚   POST /api/auth/login    â”‚
         â”‚   Content-Type: app/json  â”‚
         â”‚   Authorization: Bearer...â”‚
         â”‚   Origin: ...vercel.app   â”‚
         â”‚                           â”‚
         â”‚   Request Body:           â”‚
         â”‚   {email, password}       â”‚
         â”‚                           â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  CORS Middleware            â”‚
         â”‚  âœ“ Origin allowed?          â”‚
         â”‚  âœ“ Credentials OK?          â”‚
         â”‚  âœ“ Method allowed?          â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Auth Route Handler         â”‚
         â”‚  (authController.js)        â”‚
         â”‚  1. Validate input          â”‚
         â”‚  2. Hash password check     â”‚
         â”‚  3. Generate JWT token     â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Database Query             â”‚
         â”‚  MongoDB Find User          â”‚
         â”‚  db.users.findOne({email})  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  MongoDB Atlas Returns      â”‚
         â”‚  User Document              â”‚
         â”‚  {_id, email, password_hash,â”‚
         â”‚   profile, settings...}     â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Hash Comparison            â”‚
         â”‚  bcryptjs.compare()         â”‚
         â”‚  Password matches? YES âœ“    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Generate JWT Token         â”‚
         â”‚  jsonwebtoken.sign()        â”‚
         â”‚  Includes: userId, role,    â”‚
         â”‚  email, expires: 24h        â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Send Response              â”‚
         â”‚  Status: 200 OK             â”‚
         â”‚  Body: {token, user_info}   â”‚
         â”‚  Headers: Set-Cookie: ...   â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
         RAILWAY       â”‚       VERCEL
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                           â”‚
         â”‚   Response Body:          â”‚
         â”‚   {                       â”‚
         â”‚     token: "eyJ...",      â”‚
         â”‚     user: {               â”‚
         â”‚       id: "123...",       â”‚
         â”‚       email: "u@t.com",   â”‚
         â”‚       role: "user"        â”‚
         â”‚     }                     â”‚
         â”‚   }                       â”‚
         â”‚                           â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Browser receives response  â”‚
         â”‚  status = 200 âœ“             â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  React stores JWT token     â”‚
         â”‚  localStorage.setItem(...)  â”‚
         â”‚                             â”‚
         â”‚  Updates Auth Context       â”‚
         â”‚  setIsAuthenticated(true)   â”‚
         â”‚  setUser(userData)          â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  React re-renders           â”‚
         â”‚  Redirects to /dashboard    â”‚
         â”‚  Loads user data            â”‚
         â”‚  Shows personalized content â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                    LOGIN SUCCESSFUL âœ“
```

---

## 3. Real-Time Communication (Socket.io)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 SOCKET.IO REAL-TIME FEATURES                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   FRONTEND (VERCEL)  â”‚              â”‚  BACKEND (RAILWAY)   â”‚
    â”‚                      â”‚              â”‚                      â”‚
    â”‚  Socket.io Client    â”‚              â”‚  Socket.io Server    â”‚
    â”‚                      â”‚              â”‚                      â”‚
    â”‚  ChatPage.js         â”‚â—„â”€WebSocketâ”€â”€â–ºâ”‚  server.js           â”‚
    â”‚                      â”‚   :5002      â”‚  socket handlers     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                                      â”‚
            â”‚                                      â”‚
            â”œâ”€ Connect Event â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
            â”‚  socket.on('connect')                â”‚
            â”‚                                      â”œâ”€ Join Room
            â”‚                                      â”‚ socket.join('general-chat')
            â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ User Joined â”€â”€â”€â”€â”¤
            â”‚                                      â”‚
            â”‚                                      â”‚
            â”œâ”€ Send Message â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
            â”‚ socket.emit('send-message', {       â”‚
            â”‚   userId, username, content,        â”‚ â”œâ”€ Store in DB
            â”‚   timestamp                         â”‚ â”‚ Broadcast to room
            â”‚ })                                  â”‚ â”‚
            â”‚                                      â”‚
            â”‚â—„â”€ Broadcast to All Users â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚ socket.on('new-message')            â”‚
            â”‚ Updates UI in real-time             â”‚
            â”‚                                      â”‚
            â”‚                                      â”‚
            â”œâ”€ Edit Message â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
            â”‚ socket.emit('edit-message', {id...})â”‚
            â”‚                                      â”œâ”€ Update DB
            â”‚â—„â”€ Broadcast Edit â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚ Updates message in UI               â”‚
            â”‚                                      â”‚
            â”‚                                      â”‚
            â”œâ”€ React to Message â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
            â”‚ socket.emit('message-reaction')     â”‚
            â”‚                                      â”œâ”€ Update DB
            â”‚â—„â”€ Broadcast Reaction â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚ Shows emoji reactions               â”‚
            â”‚                                      â”‚
            â”‚                                      â”‚
            â”œâ”€ Report Message â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
            â”‚ socket.emit('report-message')       â”‚
            â”‚                                      â”œâ”€ Alert Admins
            â”‚                                      â”‚ Send to admin room
            â”‚                                      â”‚
            â”‚                                      â”‚
            â”œâ”€ User Typing â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
            â”‚ socket.emit('typing')               â”‚
            â”‚                                      â”œâ”€ Don't store
            â”‚â—„â”€ Typing Indicator â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚ Shows "User is typing..."           â”‚
            â”‚                                      â”‚
            â”‚                                      â”‚
            â”œâ”€ Disconnect Event â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
            â”‚ socket.on('disconnect')             â”‚
            â”‚                                      â”œâ”€ Leave Room
            â”‚                                      â”‚ Notify Others
            â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ User Left â”€â”€â”€â”€â”€â”€â”¤
            â”‚                                      â”‚

SOCKET EVENTS SUMMARY:
â”œâ”€ join-chat          (User joins chat room)
â”œâ”€ send-message       (New message sent)
â”œâ”€ edit-message       (Existing message edited)
â”œâ”€ delete-message     (Message deleted)
â”œâ”€ message-reaction   (Emoji reaction added)
â”œâ”€ report-message     (Message flagged)
â”œâ”€ typing             (User typing indicator)
â”œâ”€ stop-typing        (User stopped typing)
â”œâ”€ blog-reaction      (Blog post reaction)
â”œâ”€ new-blog           (New blog created)
â”œâ”€ blog-updated       (Blog post updated)
â”œâ”€ blog-deleted       (Blog post deleted)
â””â”€ disconnect         (User disconnected)
```

---

## 4. Database Schema

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MONGODB ATLAS DATABASE                   â”‚
â”‚                       (techg database)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Collection: users    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”œâ”€ _id (ObjectId)    â”‚
â”‚ â”œâ”€ email (String)    â”‚
â”‚ â”œâ”€ password (String) â”‚â”€â”€â”€â”€â”€â”€â–º Encrypted with bcryptjs
â”‚ â”œâ”€ username (String) â”‚
â”‚ â”œâ”€ profile {         â”‚
â”‚ â”‚   avatar: String   â”‚
â”‚ â”‚   bio: String      â”‚
â”‚ â”‚   location: String â”‚
â”‚ â”‚ }                  â”‚
â”‚ â”œâ”€ role (String)     â”‚â”€â”€â”€â”€â”€â”€â–º "user" or "admin"
â”‚ â”œâ”€ createdAt         â”‚
â”‚ â””â”€ updatedAt         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Collection: blogs    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”œâ”€ _id (ObjectId)    â”‚
â”‚ â”œâ”€ title (String)    â”‚
â”‚ â”œâ”€ content (String)  â”‚
â”‚ â”œâ”€ author {          â”‚
â”‚ â”‚   _id: ObjectId    â”‚â”€â”€â”€â”€â”€â”€â–º References users._id
â”‚ â”‚   name: String     â”‚
â”‚ â”‚   avatar: String   â”‚
â”‚ â”‚ }                  â”‚
â”‚ â”œâ”€ category (String) â”‚
â”‚ â”œâ”€ tags [String]     â”‚
â”‚ â”œâ”€ reactions {       â”‚
â”‚ â”‚   like: Number     â”‚
â”‚ â”‚   love: Number     â”‚
â”‚ â”‚   wow: Number      â”‚
â”‚ â”‚ }                  â”‚
â”‚ â”œâ”€ comments [        â”‚
â”‚ â”‚   {                â”‚
â”‚ â”‚     user: ObjectId â”‚
â”‚ â”‚     text: String   â”‚
â”‚ â”‚     timestamp      â”‚
â”‚ â”‚   }                â”‚
â”‚ â”‚ ]                  â”‚
â”‚ â”œâ”€ featured: Boolean â”‚
â”‚ â”œâ”€ published: Booleanâ”‚
â”‚ â”œâ”€ createdAt         â”‚
â”‚ â””â”€ updatedAt         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Collection: messages â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”œâ”€ _id (ObjectId)    â”‚
â”‚ â”œâ”€ userId            â”‚â”€â”€â”€â”€â”€â”€â–º References users._id
â”‚ â”œâ”€ username (String) â”‚
â”‚ â”œâ”€ content (String)  â”‚
â”‚ â”œâ”€ media: {          â”‚
â”‚ â”‚   type: String     â”‚â”€â”€â”€â”€â”€â”€â–º "image", "video", etc.
â”‚ â”‚   url: String      â”‚
â”‚ â”‚ }                  â”‚
â”‚ â”œâ”€ reactions: {      â”‚
â”‚ â”‚   ğŸ‘: [userId]     â”‚
â”‚ â”‚   â¤ï¸: [userId]     â”‚
â”‚ â”‚ }                  â”‚
â”‚ â”œâ”€ reports [         â”‚
â”‚ â”‚   {                â”‚
â”‚ â”‚     by: ObjectId   â”‚
â”‚ â”‚     reason: String â”‚
â”‚ â”‚     timestamp      â”‚
â”‚ â”‚   }                â”‚
â”‚ â”‚ ]                  â”‚
â”‚ â”œâ”€ status: String    â”‚â”€â”€â”€â”€â”€â”€â–º "active", "reported", "deleted"
â”‚ â”œâ”€ createdAt         â”‚â”€â”€â”€â”€â”€â”€â–º TTL Index: 30 days auto-delete
â”‚ â””â”€ updatedAt         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Collection:          â”‚
â”‚ notifications        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”œâ”€ _id (ObjectId)    â”‚
â”‚ â”œâ”€ userId            â”‚â”€â”€â”€â”€â”€â”€â–º References users._id
â”‚ â”œâ”€ type (String)     â”‚â”€â”€â”€â”€â”€â”€â–º "message", "blog", "comment"
â”‚ â”œâ”€ relatedId         â”‚â”€â”€â”€â”€â”€â”€â–º ID of related object
â”‚ â”œâ”€ title (String)    â”‚
â”‚ â”œâ”€ message (String)  â”‚
â”‚ â”œâ”€ read: Boolean     â”‚
â”‚ â”œâ”€ data: {}          â”‚â”€â”€â”€â”€â”€â”€â–º Flexible data object
â”‚ â”œâ”€ createdAt         â”‚
â”‚ â””â”€ updatedAt         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Collection:          â”‚
â”‚ chatreports          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”œâ”€ _id (ObjectId)    â”‚
â”‚ â”œâ”€ messageId         â”‚â”€â”€â”€â”€â”€â”€â–º References messages._id
â”‚ â”œâ”€ reportedBy        â”‚â”€â”€â”€â”€â”€â”€â–º References users._id
â”‚ â”œâ”€ reason (String)   â”‚
â”‚ â”œâ”€ status: String    â”‚â”€â”€â”€â”€â”€â”€â–º "pending", "resolved", "dismissed"
â”‚ â”œâ”€ adminNotes        â”‚
â”‚ â”œâ”€ createdAt         â”‚
â”‚ â””â”€ updatedAt         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

INDEXES CREATED:
â”œâ”€ users.email (unique) â”€â”€â”€â”€â”€â–º Fast email lookup
â”œâ”€ blogs.author â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Find user's blogs
â”œâ”€ messages.createdAt â”€â”€â”€â”€â”€â”€â”€â”€â–º Sorting & TTL
â”œâ”€ notifications.userId â”€â”€â”€â”€â”€â”€â–º User's notifications
â”œâ”€ notifications.read â”€â”€â”€â”€â”€â”€â”€â”€â–º Unread messages
â””â”€ chatreports.messageId â”€â”€â”€â”€â–º Find message reports
```

---

## 5. Deployment Pipeline

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   GITHUB REPOSITORY                              â”‚
â”‚                 (Your Code & Version Control)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                                     â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚  Frontend Code  â”‚              â”‚  Backend Code      â”‚
      â”‚  /techfront-mainâ”‚              â”‚  /techback-main    â”‚
      â”‚                 â”‚              â”‚                    â”‚
      â”‚  - src/         â”‚              â”‚  - server.js       â”‚
      â”‚  - package.json â”‚              â”‚  - package.json    â”‚
      â”‚  - public/      â”‚              â”‚  - routes/         â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                                 â”‚
         â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”                   â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Git Push  â”‚                   â”‚  Git Push      â”‚
         â”‚ to main   â”‚                   â”‚  to main       â”‚
         â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                                 â”‚
         â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
         â”‚  VERCEL WEBHOOK        â”‚             â”‚
         â”‚  Auto-detects push     â”‚             â”‚
         â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
               â”‚                                â”‚
         â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  VERCEL BUILD PROCESS  â”‚      â”‚ RAILWAY WEBHOOK   â”‚
         â”‚                        â”‚      â”‚ Auto-detects push â”‚
         â”‚  1. Checkout code      â”‚      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚  2. npm install        â”‚             â”‚
         â”‚  3. npm run build      â”‚      â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  4. Run tests          â”‚      â”‚RAILWAY BUILD      â”‚
         â”‚  5. Deploy to CDN      â”‚      â”‚ (via railway.json)â”‚
         â”‚  6. Update DNS         â”‚      â”‚                   â”‚
         â”‚  7. Run health checks  â”‚      â”‚ 1. Checkout code  â”‚
         â”‚  8. Send status email  â”‚      â”‚ 2. npm install    â”‚
         â”‚                        â”‚      â”‚ 3. node server.js â”‚
         â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ 4. Run health     â”‚
               â”‚                         â”‚    checks         â”‚
         â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚ 5. Send logs      â”‚
         â”‚ DEPLOYMENT COMPLETE    â”‚      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                        â”‚             â”‚
         â”‚ Frontend now live at:  â”‚      â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ https://techfront-     â”‚      â”‚ DEPLOYMENT        â”‚
         â”‚ topaz.vercel.app       â”‚      â”‚ COMPLETE          â”‚
         â”‚                        â”‚      â”‚                   â”‚
         â”‚ (CDN Cached globally)  â”‚      â”‚ Backend now live: â”‚
         â”‚ âœ… Fast worldwide      â”‚      â”‚ https://techback- â”‚
         â”‚ âœ… Automatic rollback  â”‚      â”‚ production.       â”‚
         â”‚ âœ… SSL/TLS enabled     â”‚      â”‚ up.railway.app    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚                   â”‚
                                         â”‚ âœ… Auto-restart   â”‚
                                         â”‚ âœ… Health checked â”‚
                                         â”‚ âœ… Logs available â”‚
                                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. Environment Variables Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ENVIRONMENT VARIABLES CONFIGURATION                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

DEVELOPMENT (Local Machine)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ .env file (gitignored)      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ NODE_ENV=development        â”‚
â”‚ PORT=5002                   â”‚
â”‚ MONGODB_URI=local/mongodb   â”‚
â”‚ FRONTEND_URL=localhost:3000 â”‚
â”‚ JWT_SECRET=dev-secret       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
    npm run dev
        â†“
   Local Testing

PRODUCTION (Railway)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Railway Dashboard Variables Tab   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ NODE_ENV=production                â”‚
â”‚ PORT=5002                          â”‚
â”‚ MONGODB_URI=mongodb+srv://user:... â”‚
â”‚ FRONTEND_URL=techfront-topaz...    â”‚
â”‚ JWT_SECRET=random-secure-string    â”‚
â”‚ SESSION_SECRET=random-secure-str...â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
    node server.js
        â†“
   Production Running

PRODUCTION (Vercel)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Vercel Dashboard Settings Tab     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ REACT_APP_API_BASE_URL=https://    â”‚
â”‚   techback-production...           â”‚
â”‚ REACT_APP_SOCKET_URL=https://...   â”‚
â”‚ REACT_APP_ENV=production           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
    npm run build
        â†“
    Deployed to CDN
```

---

## 7. Security Layers

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SECURITY ARCHITECTURE                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Layer 1: NETWORK SECURITY                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… HTTPS/TLS Encryption (all connections)                   â”‚
â”‚ âœ… WSS (WebSocket Secure) for real-time                     â”‚
â”‚ âœ… CORS configured to only allow frontend domain            â”‚
â”‚ âœ… No CORS on production (only FRONTEND_URL allowed)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Layer 2: APPLICATION SECURITY                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… JWT Token Authentication                                 â”‚
â”‚ âœ… Password Hashing (bcryptjs - 10 rounds)                  â”‚
â”‚ âœ… Input Validation (on all endpoints)                      â”‚
â”‚ âœ… Role-based Access Control (user/admin)                   â”‚
â”‚ âœ… Protected Routes (require authentication)                â”‚
â”‚ âœ… Rate Limiting (optional, can be added)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Layer 3: DATABASE SECURITY                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… MongoDB Atlas Authentication Required                    â”‚
â”‚ âœ… IP Whitelist (0.0.0.0/0 for now, can restrict)          â”‚
â”‚ âœ… Network encryption for connections                       â”‚
â”‚ âœ… Automatic backups enabled                                â”‚
â”‚ âœ… Field-level encryption available (for sensitive data)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Layer 4: DATA SECURITY                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… Passwords never stored in plain text                     â”‚
â”‚ âœ… Sensitive data sanitized in responses                    â”‚
â”‚ âœ… No secrets in frontend code                              â”‚
â”‚ âœ… No secrets in GitHub (use environment variables)         â”‚
â”‚ âœ… Message auto-deletion after 30 days                      â”‚
â”‚ âœ… Reported content flagged for admin review                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

AUTH FLOW:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   User      â”‚
â”‚  Password   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend: Hash + Compare  â”‚
â”‚ bcryptjs.compare()       â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ âœ“ Match
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Generate JWT Token       â”‚
â”‚ {userId, role, email}    â”‚
â”‚ Expires: 24 hours        â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Send to Frontend         â”‚
â”‚ Store in localStorage    â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Include in Every Request â”‚
â”‚ Authorization: Bearer... â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend: Verify Token    â”‚
â”‚ Check signature & expiry â”‚
â”‚ Extract user info        â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Grant Access to Resource â”‚
â”‚ Return requested data    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Diagram Updated**: December 24, 2025  
**Version**: 1.0 - Production Ready
